#!/usr/bin/env python3
# -*- coding: utf-8 -*-

"""
FutureChat - –ü—Ä–æ—Å—Ç–æ–π AI –ß–∞—Ç-–±–æ—Ç 
–°–æ–∑–¥–∞–Ω–æ –ø–æ –æ–±—Ä–∞–∑—Ü—É –ø—Ä–æ–µ–∫—Ç–∞ Awesome-Tech –Ω–∞ Replit

–≠—Ç–æ—Ç –±–æ—Ç –º–æ–∂–µ—Ç —É—á–∏—Ç—å—Å—è –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ –∏ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã
–±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–ª–∞—Ç–Ω—ã—Ö API –∫–ª—é—á–µ–π.
"""

import random
import json
import os
import re

class FutureChat:
    def __init__(self):
        self.name = "FutureChat"
        self.version = "1.0"
        self.knowledge_base = {}
        self.conversation_history = []
        self.confidence_threshold = 0.7
        
        # –ó–∞–≥—Ä—É–∑–∫–∞ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
        self.load_knowledge_base()
        
        # –ù–∞—á–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π
        self.init_default_knowledge()
    
    def init_default_knowledge(self):
        """–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑–æ–≤—ã—Ö –∑–Ω–∞–Ω–∏–π –±–æ—Ç–∞"""
        default_knowledge = {
            "–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ": [
                "–ü—Ä–∏–≤–µ—Ç! –Ø FutureChat, —É–º–Ω—ã–π AI –±–æ—Ç. –ö–∞–∫ –¥–µ–ª–∞?",
                "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π! –ú–µ–Ω—è –∑–æ–≤—É—Ç FutureChat. –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?",
                "–ü—Ä–∏–≤–µ—Ç! –Ø –≥–æ—Ç–æ–≤ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å —Ç–æ–±–æ–π –Ω–∞ –ª—é–±—ã–µ —Ç–µ–º—ã!",
                "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –Ø FutureChat - —Ç–≤–æ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫."
            ],
            "–ø—Ä–æ—â–∞–Ω–∏–µ": [
                "–î–æ —Å–≤–∏–¥–∞–Ω–∏—è! –ë—ã–ª–æ –ø—Ä–∏—è—Ç–Ω–æ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å!",
                "–ü–æ–∫–∞! –£–≤–∏–¥–∏–º—Å—è –≤ —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑!",
                "–î–æ –≤—Å—Ç—Ä–µ—á–∏! –•–æ—Ä–æ—à–µ–≥–æ –¥–Ω—è!",
                "–í—Å–µ–≥–æ –¥–æ–±—Ä–æ–≥–æ! –ó–∞—Ö–æ–¥–∏ –µ—â–µ!"
            ],
            "–∏–º—è": [
                "–ú–µ–Ω—è –∑–æ–≤—É—Ç FutureChat. –Ø AI —á–∞—Ç-–±–æ—Ç, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –¥–ª—è –æ–±—â–µ–Ω–∏—è.",
                "–Ø FutureChat - —É–º–Ω—ã–π –±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç —É—á–∏—Ç—å—Å—è.",
                "FutureChat - —ç—Ç–æ –º–æ–µ –∏–º—è. –ü—Ä–∏—è—Ç–Ω–æ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è!"
            ],
            "–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏": [
                "–Ø –º–æ–≥—É –±–æ–ª—Ç–∞—Ç—å, –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∏ —É—á–∏—Ç—å—Å—è –Ω–æ–≤–æ–º—É –æ—Ç —Ç–µ–±—è!",
                "–£–º–µ—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –±–µ—Å–µ–¥—É, –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã.",
                "–ú–æ–≥—É –æ–±—â–∞—Ç—å—Å—è –Ω–∞ —Ä–∞–∑–Ω—ã–µ —Ç–µ–º—ã, —É—á–∏—Ç—å—Å—è –∏ –ø–æ–º–æ–≥–∞—Ç—å —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π."
            ],
            "–∫–∞–∫ –¥–µ–ª–∞": [
                "–£ –º–µ–Ω—è –≤—Å–µ –æ—Ç–ª–∏—á–Ω–æ! –Ø –ª—é–±–ª—é –æ–±—â–∞—Ç—å—Å—è —Å –ª—é–¥—å–º–∏.",
                "–ü—Ä–µ–∫—Ä–∞—Å–Ω–æ! –ì–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º —Ä–∞–∑–≥–æ–≤–æ—Ä–∞–º.",
                "–í—Å–µ –∑–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ! –ê –∫–∞–∫ —É —Ç–µ–±—è –¥–µ–ª–∞?"
            ],
            "—á—Ç–æ —É–º–µ–µ—à—å": [
                "–Ø —É–º–µ—é –æ–±—â–∞—Ç—å—Å—è, –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∏ —É—á–∏—Ç—å—Å—è –Ω–æ–≤–æ–º—É!",
                "–ú–æ–≥—É –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –±–µ—Å–µ–¥—É –Ω–∞ —Ä–∞–∑–Ω—ã–µ —Ç–µ–º—ã –∏ –∑–∞–ø–æ–º–Ω–∏—Ç—å —Ç–æ, —á–µ–º—É —Ç—ã –º–µ–Ω—è –Ω–∞—É—á–∏—à—å.",
                "–ë–æ–ª—Ç–∞—é, –æ—Ç–≤–µ—á–∞—é –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, —É—á—É—Å—å –∏ –ø–æ–º–æ–≥–∞—é!"
            ],
            "—Å–ø–∞—Å–∏–±–æ": [
                "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞! –í—Å–µ–≥–¥–∞ —Ä–∞–¥ –ø–æ–º–æ—á—å!",
                "–ù–µ –∑–∞ —á—Ç–æ! –û–±—Ä–∞—â–∞–π—Å—è –µ—â–µ!",
                "–†–∞–¥ –±—ã–ª –ø–æ–º–æ—á—å!"
            ],
            "–≤—Ä–µ–º—è": [
                "–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —è –Ω–µ –º–æ–≥—É —É–∑–Ω–∞—Ç—å —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è, –Ω–æ –º–æ–≥—É –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å –æ –≤—Ä–µ–º–µ–Ω–∏ –≤ –æ–±—â–µ–º.",
                "–í—Ä–µ–º—è - —ç—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è! –ê –∫–∞–∫–æ–µ —Å–µ–π—á–∞—Å –≤—Ä–µ–º—è —É —Ç–µ–±—è?"
            ],
            "–ø–æ–≥–æ–¥–∞": [
                "–Ø –Ω–µ –∏–º–µ—é –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º –æ –ø–æ–≥–æ–¥–µ, –Ω–æ –º–æ–≥—É –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å –æ –ø–æ–≥–æ–¥–µ –≤ –æ–±—â–µ–º.",
                "–†–∞—Å—Å–∫–∞–∂–∏, –∫–∞–∫–∞—è —É —Ç–µ–±—è –ø–æ–≥–æ–¥–∞? –ú–Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ —É–∑–Ω–∞—Ç—å!"
            ]
        }
        
        # –î–æ–±–∞–≤–ª—è–µ–º –∑–Ω–∞–Ω–∏—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏—Ö –µ—â–µ –Ω–µ—Ç
        for topic, responses in default_knowledge.items():
            if topic not in self.knowledge_base:
                self.knowledge_base[topic] = responses
    
    def save_knowledge_base(self):
        """–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π –≤ —Ñ–∞–π–ª"""
        try:
            with open('futurebot_knowledge.json', 'w', encoding='utf-8') as f:
                json.dump(self.knowledge_base, f, ensure_ascii=False, indent=2)
        except Exception as e:
            print(f"–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–Ω–∞–Ω–∏–π: {e}")
    
    def load_knowledge_base(self):
        """–ó–∞–≥—Ä—É–∑–∫–∞ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π –∏–∑ —Ñ–∞–π–ª–∞"""
        try:
            if os.path.exists('futurebot_knowledge.json'):
                with open('futurebot_knowledge.json', 'r', encoding='utf-8') as f:
                    self.knowledge_base = json.load(f)
            else:
                self.knowledge_base = {}
        except Exception as e:
            print(f"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–Ω–∞–Ω–∏–π: {e}")
            self.knowledge_base = {}
    
    def normalize_text(self, text):
        """–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–∏—Å–∫–∞"""
        # –£–±–∏—Ä–∞–µ–º –∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –∏ –ø—Ä–∏–≤–æ–¥–∏–º –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É
        text = re.sub(r'[^\w\s]', '', text.lower())
        return text.strip()
    
    def find_best_match(self, user_input):
        """–ü–æ–∏—Å–∫ –ª—É—á—à–µ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π"""
        normalized_input = self.normalize_text(user_input)
        best_match = None
        highest_score = 0
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—É—é —Ç–µ–º—É –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π
        for topic, responses in self.knowledge_base.items():
            # –ü—Ä–æ—Å—Ç–æ–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
            topic_words = topic.split()
            input_words = normalized_input.split()
            
            # –ü–æ–¥—Å—á–µ—Ç —Å–æ–≤–ø–∞–¥–∞—é—â–∏—Ö —Å–ª–æ–≤
            matches = sum(1 for word in topic_words if word in input_words)
            score = matches / len(topic_words) if topic_words else 0
            
            # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–∏—Å–∫–∞
            if topic in normalized_input:
                score += 0.5
            
            if score > highest_score and score > 0.3:
                highest_score = score
                best_match = topic
        
        return best_match, highest_score
    
    def learn_from_user(self, user_input, bot_response):
        """–û–±—É—á–µ–Ω–∏–µ –±–æ—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º"""
        # –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
        self.conversation_history.append({
            'user': user_input,
            'bot': bot_response,
            'timestamp': self.get_current_time()
        })
        
        # –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ 50 —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
        if len(self.conversation_history) > 50:
            self.conversation_history = self.conversation_history[-50:]
    
    def get_current_time(self):
        """–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (–∑–∞–≥–ª—É—à–∫–∞)"""
        import datetime
        return datetime.datetime.now().strftime("%Y-%m-%d %H:%M:%S")
    
    def ask_for_knowledge(self, topic):
        """–ó–∞–ø—Ä–æ—Å –Ω–æ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
        responses = [
            f"–Ø –Ω–µ –∑–Ω–∞—é –ø—Ä–æ '{topic}'. –ú–æ–∂–µ—à—å —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –º–Ω–µ –æ–± —ç—Ç–æ–º?",
            f"–ü—Ä–æ '{topic}' —è –µ—â–µ –Ω–µ —Å–ª—ã—à–∞–ª. –ù–∞—É—á–∏ –º–µ–Ω—è!",
            f"–†–∞—Å—Å–∫–∞–∂–∏ –º–Ω–µ –ø—Ä–æ '{topic}', —è —Ö–æ—á—É —É–∑–Ω–∞—Ç—å —á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ!",
            f"'{topic}' - –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è —Ç–µ–º–∞! –ß—Ç–æ —Ç—ã –∑–Ω–∞–µ—à—å –æ–± —ç—Ç–æ–º?"
        ]
        return random.choice(responses)
    
    def add_new_knowledge(self, topic, information):
        """–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∑–Ω–∞–Ω–∏–π –≤ –±–∞–∑—É"""
        if topic not in self.knowledge_base:
            self.knowledge_base[topic] = []
        
        self.knowledge_base[topic].append(information)
        self.save_knowledge_base()
        
        thanks_responses = [
            "–°–ø–∞—Å–∏–±–æ! –¢–µ–ø–µ—Ä—å —è –∑–Ω–∞—é –±–æ–ª—å—à–µ –æ–± —ç—Ç–æ–º!",
            "–û—Ç–ª–∏—á–Ω–æ! –Ø –∑–∞–ø–æ–º–Ω–∏–ª —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.",
            "–ó–¥–æ—Ä–æ–≤–æ! –ù–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è –≤—Å–µ–≥–¥–∞ –ø–æ–ª–µ–∑–Ω—ã.",
            "–ó–∞–º–µ—á–∞—Ç–µ–ª—å–Ω–æ! –Ø —Å—Ç–∞–ª —É–º–Ω–µ–µ –±–ª–∞–≥–æ–¥–∞—Ä—è —Ç–µ–±–µ!"
        ]
        return random.choice(thanks_responses)
    
    def generate_response(self, user_input):
        """–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥"""
        # –ü–æ–∏—Å–∫ –ª—É—á—à–µ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
        topic, confidence = self.find_best_match(user_input)
        
        if topic and confidence > self.confidence_threshold:
            # –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –æ—Ç–≤–µ—Ç –∏–∑ –Ω–∞–π–¥–µ–Ω–Ω–æ–π —Ç–µ–º—ã
            responses = self.knowledge_base[topic]
            return random.choice(responses)
        elif topic and confidence > 0.3:
            # –°—Ä–µ–¥–Ω—è—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å - –º–æ–∂–µ–º –ø–æ–ø—Ä–æ—Å–∏—Ç—å —É—Ç–æ—á–Ω–µ–Ω–∏–µ
            fallback_responses = [
                f"–í–æ–∑–º–æ–∂–Ω–æ, —Ç—ã —Å–ø—Ä–∞—à–∏–≤–∞–µ—à—å –ø—Ä–æ {topic}? –ú–æ–∂–µ—à—å —É—Ç–æ—á–Ω–∏—Ç—å?",
                f"–ö–∞–∂–µ—Ç—Å—è, —ç—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å {topic}. –ü—Ä–∞–≤–∏–ª—å–Ω–æ?",
                f"–≠—Ç–æ –ø—Ä–æ {topic}? –ï—Å–ª–∏ –¥–∞, —Ç–æ —è –º–æ–≥—É —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ–± —ç—Ç–æ–º!"
            ]
            return random.choice(fallback_responses)
        else:
            # –ù–µ –Ω–∞—à–ª–∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –æ—Ç–≤–µ—Ç - –ø—Ä–æ—Å–∏–º –Ω–∞—É—á–∏—Ç—å
            return self.ask_for_knowledge(user_input)
    
    def handle_special_commands(self, user_input):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥"""
        normalized = user_input.lower().strip()
        
        if normalized in ['–≤—ã—Ö–æ–¥', '–ø–æ–∫–∞', '–¥–æ —Å–≤–∏–¥–∞–Ω–∏—è', 'quit', 'exit']:
            return "goodbye"
        elif normalized in ['–ø–æ–º–æ—â—å', 'help', '–∫–æ–º–∞–Ω–¥—ã']:
            return self.show_help()
        elif normalized in ['—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞', '–∏–Ω—Ñ–æ', 'info']:
            return self.show_stats()
        elif normalized.startswith('–Ω–∞—É—á–∏—Ç—å:'):
            return self.handle_teaching(user_input)
        
        return None
    
    def show_help(self):
        """–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –∫–æ–º–∞–Ω–¥–∞–º"""
        help_text = """
ü§ñ FutureChat - –ö–æ–º–∞–Ω–¥—ã:
üìö –Ω–∞—É—á–∏—Ç—å: [—Ç–µ–º–∞] - [–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è] - –Ω–∞—É—á–∏—Ç—å –º–µ–Ω—è —á–µ–º—É-—Ç–æ –Ω–æ–≤–æ–º—É
üìä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ - –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –±–æ—Ç–∞
‚ùì –ø–æ–º–æ—â—å - –ø–æ–∫–∞–∑–∞—Ç—å —ç—Ç—É —Å–ø—Ä–∞–≤–∫—É
üö™ –≤—ã—Ö–æ–¥ - –∑–∞–≤–µ—Ä—à–∏—Ç—å –±–µ—Å–µ–¥—É

–ü—Ä–∏–º–µ—Ä—ã:
‚Ä¢ –Ω–∞—É—á–∏—Ç—å: —Å–æ–±–∞–∫–∏ - —Å–æ–±–∞–∫–∏ –æ—á–µ–Ω—å —É–º–Ω—ã–µ –∏ –ø—Ä–µ–¥–∞–Ω–Ω—ã–µ –∂–∏–≤–æ—Ç–Ω—ã–µ
‚Ä¢ –ü—Ä–æ—Å—Ç–æ –∑–∞–¥–∞–≤–∞–π –≤–æ–ø—Ä–æ—Å—ã - —è –æ—Ç–≤–µ—á—É –∏–ª–∏ –ø–æ–ø—Ä–æ—à—É –Ω–∞—É—á–∏—Ç—å –º–µ–Ω—è!
        """
        return help_text.strip()
    
    def show_stats(self):
        """–ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –±–æ—Ç–∞"""
        stats = f"""
ü§ñ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ {self.name} v{self.version}:
üìö –¢–µ–º –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π: {len(self.knowledge_base)}
üí¨ –°–æ–æ–±—â–µ–Ω–∏–π –≤ –∏—Å—Ç–æ—Ä–∏–∏: {len(self.conversation_history)}
üéØ –ü–æ—Ä–æ–≥ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏: {self.confidence_threshold}
        """
        return stats.strip()
    
    def handle_teaching(self, user_input):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥—ã –æ–±—É—á–µ–Ω–∏—è"""
        try:
            # –§–æ—Ä–º–∞—Ç: –Ω–∞—É—á–∏—Ç—å: —Ç–µ–º–∞ - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
            content = user_input.split(':', 1)[1].strip()
            if ' - ' in content:
                topic, info = content.split(' - ', 1)
                topic = topic.strip()
                info = info.strip()
                return self.add_new_knowledge(topic, info)
            else:
                return "–ò—Å–ø–æ–ª—å–∑—É–π —Ñ–æ—Ä–º–∞—Ç: –Ω–∞—É—á–∏—Ç—å: —Ç–µ–º–∞ - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"
        except:
            return "–û—à–∏–±–∫–∞ –≤ –∫–æ–º–∞–Ω–¥–µ –æ–±—É—á–µ–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑—É–π: –Ω–∞—É—á–∏—Ç—å: —Ç–µ–º–∞ - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è"
    
    def chat(self):
        """–û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —á–∞—Ç–∞"""
        print("ü§ñ FutureChat v1.0 –∑–∞–ø—É—â–µ–Ω!")
        print("–ü—Ä–∏–≤–µ—Ç! –Ø —É–º–Ω—ã–π AI –±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç —É—á–∏—Ç—å—Å—è.")
        print("–í–≤–µ–¥–∏ '–ø–æ–º–æ—â—å' –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–æ–º–∞–Ω–¥ –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –æ–±—â–∞–π—Å—è —Å–æ –º–Ω–æ–π!")
        print("–î–ª—è –≤—ã—Ö–æ–¥–∞ –Ω–∞–ø–∏—à–∏ '–≤—ã—Ö–æ–¥' –∏–ª–∏ '–ø–æ–∫–∞'\n")
        
        while True:
            try:
                # –ü–æ–ª—É—á–∞–µ–º –≤–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                user_input = input("–¢—ã: ").strip()
                
                if not user_input:
                    continue
                
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
                special_response = self.handle_special_commands(user_input)
                
                if special_response == "goodbye":
                    goodbye_responses = self.knowledge_base.get("–ø—Ä–æ—â–∞–Ω–∏–µ", ["–î–æ —Å–≤–∏–¥–∞–Ω–∏—è!"])
                    print(f"ü§ñ {random.choice(goodbye_responses)}")
                    break
                elif special_response:
                    print(f"ü§ñ {special_response}")
                    continue
                
                # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –æ–±—ã—á–Ω—ã–π –æ—Ç–≤–µ—Ç
                response = self.generate_response(user_input)
                print(f"ü§ñ {response}")
                
                # –û–±—É—á–∞–µ–º—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
                self.learn_from_user(user_input, response)
                
            except KeyboardInterrupt:
                print("\nü§ñ –î–æ —Å–≤–∏–¥–∞–Ω–∏—è! –ë—ã–ª–æ –ø—Ä–∏—è—Ç–Ω–æ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å!")
                break
            except Exception as e:
                print(f"ü§ñ –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞: {e}")

def main():
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è"""
    bot = FutureChat()
    bot.chat()

if __name__ == "__main__":
    main()